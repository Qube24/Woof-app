{"version":3,"file":"static/js/725.7a887aed.chunk.js","mappings":"6JAEaA,EAAW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC7B,OAAO,SAAC,KAAD,CAAMD,GAAIA,EAAV,SAAeC,GACvB,C,sICFYC,EAAa,mCAAG,sGACTC,MAAM,uCADG,cACrBC,EADqB,gBAEJA,EAAIC,OAFA,cAErBC,EAFqB,yBAGpBA,GAHoB,2CAAH,qDAQbC,EAAS,mCAAG,WAAMC,GAAN,yFACLL,MAAM,6BAAD,OAA8BK,EAA9B,mBADA,cACjBJ,EADiB,gBAEMA,EAAIC,OAFV,cAEjBI,EAFiB,yBAGhBA,GAHgB,2CAAH,sDAQTC,EAAc,mCAAG,WAAOC,EAAQC,GAAf,yFACVT,MAAM,6BAAD,OACQQ,EADR,YACkBC,EADlB,mBADK,cACtBR,EADsB,gBAIMA,EAAIC,OAJV,cAItBQ,EAJsB,yBAKrBA,GALqB,2CAAH,uD,gKCjB3B,GAAgB,KAAO,8BAA8B,UAAY,mCAAmC,UAAY,mCAAmC,WAAa,oCAAoC,WAAa,oCAAoC,QAAU,kC,SCwH/P,MAlHA,WAAuB,IAAD,MACpB,GAA0CC,EAAAA,EAAAA,WAAS,GAAnD,eACA,GADA,WACwCC,EAAAA,EAAAA,OAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BH,EAAAA,EAAAA,UAAS,CAAC,GAAtC,eAAOI,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAGXC,GADM,UAAGN,EAAaO,IAAI,gBAApB,QAAgC,IACdC,OAAOC,eAGrCC,EAAAA,EAAAA,YAAU,WACRC,EAAWL,EAEZ,GAAE,CAACA,IAcJ,IAAMK,EAAU,mCAAG,WAAMC,GAAN,qFACbA,EAAQC,SAAS,KADJ,uBAETC,EAAcF,EAAQG,MAAM,KAFnB,UAGUD,EAHV,GAGRnB,EAHQ,KAGAC,EAHA,eAIMF,EAAAA,EAAAA,IAAeC,EAAQC,GAJ7B,OAIToB,EAJS,OAKfb,EAAUa,GALK,yCAOGzB,EAAAA,EAAAA,IAAUe,GAPb,QAOTW,EAPS,OASfd,EAAUc,GATK,4CAAH,sDAsBhB,IAAKf,EACH,MAAO,UAIT,IAAMgB,EAAY,oBAAGd,EAASe,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,cAE7C,MAAsB,UAAlBlB,EAAOmB,QAEP,0BACE,kBAAMC,SAlBS,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfzB,EAAgB,CAAET,MAAOiC,EAAKE,SAASC,YAAYpC,QACnDiC,EAAKI,OACN,EAamCC,UAAWC,EAAAA,KAAzC,WACE,kBACEC,KAAK,OACLC,KAAK,cACLH,UAAWC,EAAAA,UACXG,YAAY,sBAEd,mBAAQF,KAAK,SAASF,UAAWC,EAAAA,UAAjC,yBAMqB,YAAlB7B,EAAOmB,QAEd,4BACE,iBAAKS,UAAWC,EAAAA,UAAhB,WACE,SAAChD,EAAA,EAAD,CAAUC,GAAIkC,EAAd,UACE,mBAAQc,KAAK,SAASF,UAAWC,EAAAA,QAAjC,wBAKF,wBAAKzB,KAEL,gBAEE6B,IAAKjC,EAAOkC,QACZC,IAAK/B,EACLwB,UAAWC,EAAAA,UAGb,cAAGD,UAAWC,EAAAA,SAAd,wVAOA,cAAGD,UAAWC,EAAAA,SAAd,kXAOF,SAAC,EAAAO,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,OAEF,SAAC,KAAD,YApCC,CAwCR,C","sources":["components/BackLink/BackLink.jsx","components/fetchApi.js","webpack://woof-app/./src/pages/SearchDogs/SearchDogsStyle.module.css?e7ee","pages/SearchDogs/SearchDogs.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\n\nexport const BackLink = ({ to, children }) => {\n  return <Link to={to}>{children}</Link>;\n};\n","// fetch dogs list by breed for home\n\nexport const fetchDogsList = async () => {\n  const res = await fetch('https://dog.ceo/api/breeds/list/all');\n  const dogsJson = await res.json();\n  return dogsJson;\n};\n\n// fetch function to search for dogs with one-part name\n\nexport const fetchDogs = async value => {\n  const res = await fetch(`https://dog.ceo/api/breed/${value}/images/random`);\n  const searchDogsJson = await res.json();\n  return searchDogsJson;\n};\n\n// fetch function to search for dogs with two-part name\n\nexport const fetchBreedDogs = async (value1, value2) => {\n  const res = await fetch(\n    `https://dog.ceo/api/breed/${value1}/${value2}/images/random`\n  );\n  const searchDogsBreedJson = await res.json();\n  return searchDogsBreedJson;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchDogsStyle_form__oIxpy\",\"searchBar\":\"SearchDogsStyle_searchBar__P85v9\",\"searchBtn\":\"SearchDogsStyle_searchBtn__ZHDRw\",\"listSearch\":\"SearchDogsStyle_listSearch__x+Him\",\"linkSearch\":\"SearchDogsStyle_linkSearch__jHAzI\",\"backBtn\":\"SearchDogsStyle_backBtn__iQCWY\"};","import { useEffect, useState, Suspense } from 'react';\nimport { fetchDogs, fetchBreedDogs } from 'components/fetchApi';\nimport { Outlet, useSearchParams, useLocation } from 'react-router-dom';\nimport Notiflix from 'notiflix';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport css from './SearchDogsStyle.module.css';\n\nfunction SearchDogs() {\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [doggie, setDoggie] = useState({});\n  const location = useLocation();\n\n  const search = searchParams.get('value') ?? '';\n  const adjustedSearch = search.trim().toLowerCase();\n\n  // componentDidUpdate\n  useEffect(() => {\n    showDoggie(adjustedSearch);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adjustedSearch]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  // useEffect(() => {\n  //   if (isFirstRender) {\n  //     setIsFirstRender(false);\n  //   } else {\n  //     showDoggie(adjustedSearch);\n  //   }\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [adjustedSearch, isFirstRender]);\n\n  // function to distinguish breed name from one-part and two-part names\n  const showDoggie = async dogName => {\n    if (dogName.includes(' ')) {\n      const twoPartName = dogName.split(' ');\n      const [value1, value2] = twoPartName;\n      const bigDog = await fetchBreedDogs(value1, value2);\n      setDoggie(bigDog);\n    } else {\n      const dog = await fetchDogs(adjustedSearch);\n\n      setDoggie(dog);\n    }\n  };\n\n  //  Seatch event handler\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ value: form.elements.searchInput.value });\n    form.reset();\n  };\n\n  // Loader\n  if (!doggie) {\n    return 'Loading';\n  }\n\n  // go back buttton hook\n  const backLinkHref = location.state?.from ?? '/searchDogs';\n\n  if (doggie.status === 'error') {\n    return (\n      <div>\n        <form onSubmit={handleSubmit} className={css.form}>\n          <input\n            type=\"text\"\n            name=\"searchInput\"\n            className={css.searchBar}\n            placeholder=\"example: bulldog\"\n          />\n          <button type=\"submit\" className={css.searchBtn}>\n            Search\n          </button>\n        </form>\n      </div>\n    );\n  } else if (doggie.status === 'success') {\n    return (\n      <div>\n        <div className={css.container}>\n          <BackLink to={backLinkHref}>\n            <button type=\"button\" className={css.backBtn}>\n              Go Back\n            </button>\n          </BackLink>\n\n          <h1>{adjustedSearch}</h1>\n\n          <img\n            // src is different depends on one-part and two-part breed names\n            src={doggie.message}\n            alt={adjustedSearch}\n            className={css.poster}\n          />\n\n          <p className={css.infoText}>\n            Ten pies to wierny i przyjacielski czworonóg, który świetnie czuje\n            się w roli rodzinnego towarzysza. Dobrze dogaduje się z dziećmi,\n            uwielbia pieszczoty i wspólne zabawy. Jest łatwy w prowadzeniu, choć\n            bywa uparty. Sprawdzi się zarówno w małym mieszkaniu jak i w domu z\n            ogrodem.\n          </p>\n          <p className={css.infoText}>\n            Wysokość w kłębie 30-35 cm, masa ciała 22-25 kg. Sierść krótka,\n            delikatna, lśniąca, umaszczenie płowe, pręgowane lub łaciate.\n            Charakter czujny, śmiały, oddany, odważny, łagodny, czasem uparty. W\n            zależności od dnia pokazuje różne oblicza swojej natury.\n          </p>\n        </div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n        <Outlet />\n      </div>\n    );\n  }\n}\n\nexport default SearchDogs;\n"],"names":["BackLink","to","children","fetchDogsList","fetch","res","json","dogsJson","fetchDogs","value","searchDogsJson","fetchBreedDogs","value1","value2","searchDogsBreedJson","useState","useSearchParams","searchParams","setSearchParams","doggie","setDoggie","location","useLocation","adjustedSearch","get","trim","toLowerCase","useEffect","showDoggie","dogName","includes","twoPartName","split","bigDog","dog","backLinkHref","state","from","status","onSubmit","e","preventDefault","form","currentTarget","elements","searchInput","reset","className","css","type","name","placeholder","src","message","alt","Suspense","fallback"],"sourceRoot":""}